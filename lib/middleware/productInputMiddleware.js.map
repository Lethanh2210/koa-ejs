{"version":3,"file":"productInputMiddleware.js","names":["yup","require","productInputMiddleware","ctx","next","postData","request","body","schema","object","shape","id","string","required","name","price","description","product","color","createAt","date","image","validate","e","status","success","errors","errorName"],"sources":["../../src/middleware/productInputMiddleware.js"],"sourcesContent":["const yup = require('yup');\r\n\r\nexport default async function productInputMiddleware(ctx, next) {\r\n    try {\r\n        const postData = ctx.request.body;\r\n        let schema = yup.object().shape({\r\n            id: yup.string().required(),\r\n            name: yup.string().required(),\r\n            price: yup.string().required(),\r\n            description: yup.string(),\r\n            product: yup.string().required(),\r\n            color: yup.string().required(),\r\n            createAt: yup.date().required(),\r\n            image: yup.string(),\r\n        });\r\n        await schema.validate(postData);\r\n        next();\r\n    } catch (e) {\r\n        ctx.status = 400;\r\n        ctx.body = {\r\n            success: false,\r\n            errors: e.errors,\r\n            errorName: e.name\r\n        }\r\n    }\r\n}\r\n"],"mappings":";;;;;;;AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AAEe,eAAeC,sBAAf,CAAsCC,GAAtC,EAA2CC,IAA3C,EAAiD;EAC5D,IAAI;IACA,MAAMC,QAAQ,GAAGF,GAAG,CAACG,OAAJ,CAAYC,IAA7B;IACA,IAAIC,MAAM,GAAGR,GAAG,CAACS,MAAJ,GAAaC,KAAb,CAAmB;MAC5BC,EAAE,EAAEX,GAAG,CAACY,MAAJ,GAAaC,QAAb,EADwB;MAE5BC,IAAI,EAAEd,GAAG,CAACY,MAAJ,GAAaC,QAAb,EAFsB;MAG5BE,KAAK,EAAEf,GAAG,CAACY,MAAJ,GAAaC,QAAb,EAHqB;MAI5BG,WAAW,EAAEhB,GAAG,CAACY,MAAJ,EAJe;MAK5BK,OAAO,EAAEjB,GAAG,CAACY,MAAJ,GAAaC,QAAb,EALmB;MAM5BK,KAAK,EAAElB,GAAG,CAACY,MAAJ,GAAaC,QAAb,EANqB;MAO5BM,QAAQ,EAAEnB,GAAG,CAACoB,IAAJ,GAAWP,QAAX,EAPkB;MAQ5BQ,KAAK,EAAErB,GAAG,CAACY,MAAJ;IARqB,CAAnB,CAAb;IAUA,MAAMJ,MAAM,CAACc,QAAP,CAAgBjB,QAAhB,CAAN;IACAD,IAAI;EACP,CAdD,CAcE,OAAOmB,CAAP,EAAU;IACRpB,GAAG,CAACqB,MAAJ,GAAa,GAAb;IACArB,GAAG,CAACI,IAAJ,GAAW;MACPkB,OAAO,EAAE,KADF;MAEPC,MAAM,EAAEH,CAAC,CAACG,MAFH;MAGPC,SAAS,EAAEJ,CAAC,CAACT;IAHN,CAAX;EAKH;AACJ"}